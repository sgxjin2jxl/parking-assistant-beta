# 停车省钱小助手 - 产品需求文档 (PRD)

> **版本**: v1.0  
> **创建日期**: 2025-01-28  
> **创建人**: Catherine & Claude  
> **项目类型**: 实验性PWA产品

---

## 📋 目录

1. [项目背景](#项目背景)
2. [用户画像](#用户画像)
3. [核心痛点](#核心痛点)
4. [产品目标](#产品目标)
5. [功能需求](#功能需求)
6. [提醒策略](#提醒策略)
7. [技术方案](#技术方案)
8. [成功指标](#成功指标)
9. [未来规划](#未来规划)

---

## 🎯 项目背景

### 为什么要做这个产品？

Catherine 经常开车在宁波市区逛街、吃饭、看电影，每次停车都面临一个问题：

- **停车场收费规则太复杂**：有的前30分钟免费，有的前1小时免费，还有的是分段计费
- **容易玩得太投入忘记时间**：逛街、吃饭时很容易超时，结果多付停车费
- **现有解决方案不理想**：
  - 停车场APP：不会提前提醒，只能事后查费用
  - 手机闹钟：每次都要手动设置，而且不知道该设几点
  - 记在脑子里：容易忘，压力大

### 关键洞察

在深入讨论后，我们发现了一个重要的用户场景特征：

**"15分钟支付窗口期"**
- 宁波的停车场二维码支付有一个特点：支付后15分钟内离开不会再次计费
- 这意味着：用户可以在快到下一个计费时段前10分钟收到提醒 → 立刻扫码支付 → 然后有15分钟时间慢慢走回停车场
- **这个洞察改变了产品设计**：从"提醒用户赶紧走"变成"提醒用户先支付，再慢慢走"

---

## 👥 用户画像

### 主要用户：Catherine 本人
- **年龄**: 30-40岁
- **职业**: 专业人士
- **技术水平**: 非技术背景，会用基本的手机APP
- **停车场景**: 
  - 市区商场逛街（2-3小时）
  - 餐厅吃饭（1-2小时）
  - 看电影（2.5小时）
- **停车频率**: 每周3-5次
- **停车预算**: 希望控制在合理范围内，但不是特别敏感（3-5元的差异可以接受）

### 次要用户：Catherine 的母亲
- **年龄**: 60-70岁
- **技术水平**: 不太懂技术，需要非常简单的操作
- **停车场景**: 
  - 银行办业务（30-60分钟）
  - 超市买菜（40-60分钟）
- **特殊需求**: 
  - 不能频繁打扰（会造成焦虑）
  - 操作要简单（跳转太多会困惑）
  - 提醒要明确（知道该做什么）

### 用户需求差异

| 需求 | Catherine | Catherine的母亲 |
|------|-----------|----------------|
| 提醒频率 | 可以接受2-3次提醒 | 最好只提醒1-2次 |
| 技术接受度 | 可以接受APP跳转 | 希望操作尽量简单 |
| 停车时长 | 通常2小时以上 | 通常1小时以内 |
| 费用敏感度 | 中等（希望省钱但不过度） | 较低（3-5元无所谓） |

**结论**: MVP先满足Catherine的需求，但设计要考虑未来给母亲用时的简化路径。

---

## 💔 核心痛点

### 痛点1：忘记时间，超时多付钱
**场景**:
> Catherine 14:30 停车，本来想在免费30分钟内办完事，结果遇到朋友聊了几句，15:10 才回到车上，多付了3元。

**影响**:
- 经济损失（虽然不多，但频繁发生会累积）
- 心理不爽（"早知道就不聊了"）
- 下次停车会有压力（总想着时间）

### 痛点2：记不住复杂的收费规则
**场景**:
> 金融硅谷、文化广场、宏泰广场...每个停车场规则都不一样，Catherine 记不住到底哪个是"前30分钟免费"，哪个是"前1小时免费"。

**影响**:
- 每次停车都要重新看规则（浪费时间）
- 可能记错规则（本以为1小时免费，其实只有30分钟）

### 痛点3：来不及赶回去
**场景**:
> Catherine 快到免费时段结束了，但她正在试衣服，或者在餐厅等上菜，根本来不及跑回停车场。

**影响**:
- 只能多付钱
- 或者匆忙赶回去（影响体验）

**⭐ 关键洞察**:
> 如果能在快到时间前10分钟提醒，Catherine 可以立刻扫码支付，然后利用15分钟窗口期慢慢走回去，就不用着急了！

### 痛点4：不知道什么时候封顶
**场景**:
> Catherine 有时候要停4-5小时，她不知道什么时候到封顶价格。如果早知道"再停1小时就封顶了"，她就会更放心地继续逛。

**影响**:
- 可能提前走了（错过了封顶后"免费停"的机会）
- 或者不敢停太久（担心费用太高）

---

## 🎯 产品目标

### 主要目标
1. **减少超时多付费的次数**：从现在的"经常超时"降低到"很少超时"
2. **降低停车时的心理负担**：不用一直记着时间，可以放心玩
3. **利用15分钟支付窗口**：提前支付，从容离开

### 次要目标
1. 帮助用户记住常去停车场的规则
2. 提醒用户封顶时间（可以放心继续停）
3. 保存停车场二维码（方便快速支付）

### 非目标（MVP不做）
1. ❌ 自动抓取停车场系统的准确入场时间（太复杂）
2. ❌ 推荐附近的停车场（不是核心需求）
3. ❌ 统计停车费用（V2再考虑）
4. ❌ 多设备同步（MVP只在一个手机上用）

---

## ✅ 功能需求

### P0 功能（必须有，MVP版本）

#### 1. 选择停车场
- **需求**: 用户从下拉列表中选择停车场
- **停车场列表**: 14个宁波常去的停车场（见下方详细列表）
- **显示内容**: 每个停车场显示名称 + 收费规则摘要
  - 示例："金融硅谷 - 前30分钟免费，3元/小时，15元封顶"

#### 2. 调整开始时间
- **需求**: 用户可以手动调整停车开始时间（解决时间gap问题）
- **默认时间**: 当前时间
- **调整方式**: 点击时间 → 弹出时间选择器 → 选择准确时间
- **场景**: 用户停好车，看到停车场系统显示"14:32 入场"，但打开APP已经是14:35了，用户可以手动调整为14:32

#### 3. 实时显示停车信息
- **需求**: 开始计时后，实时显示以下信息：
  - 已停时长（X小时Y分钟）
  - 当前费用（X元）
  - 当前所在收费时段（"免费时段"/"第1小时"/"已封顶"等）
  - 下一次提醒时间（"还有X分钟提醒"）
- **更新频率**: 每秒更新（至少每分钟更新）

#### 4. 拍摄并保存二维码
- **需求**: 用户可以拍摄停车场的二维码照片，保存在APP里
- **存储位置**: localStorage（浏览器本地存储）
- **使用场景**: 快到计费时段时，打开APP查看二维码 → 长按识别 → 跳转微信/支付宝支付

#### 5. 智能提醒（核心功能！）
- **触发时机**: 
  - 第1次提醒：第一笔支出即将产生时（提前10分钟）
  - 第2次提醒：+1小时（提前10分钟）
  - 第3次提醒：+1小时（提前10分钟，标注"最后一次提醒"）
  - 封顶提醒：接近封顶时（提前10分钟，额外提醒）
  
- **提醒方式**: 
  - iOS快捷指令 + 系统通知（支持Apple Watch震动）
  - 用户点击"设置提醒"按钮 → 自动跳转到快捷指令APP → 自动设置提醒 → 自动返回
  
- **提醒内容**:
  ```
  标题：停车提醒
  内容：已停X小时，当前费用X元，再停1小时会变成X元
  操作：点击通知打开APP
  ```

- **提醒频次限制**: 最多3次常规提醒 + 1次封顶提醒

#### 6. "我要走了"功能
- **需求**: 用户准备离开时，点击"我要走了"按钮
- **显示内容**:
  - 当前已停时长
  - 当前费用
  - 二维码照片（如果有）
  - 两个按钮："查看二维码去支付" / "直接离开（免费）"
  
- **后续操作**:
  - 如果用户选择"查看二维码去支付" → 显示二维码 → 用户扫码支付 → 点击"我已支付" → 停止计时，取消所有提醒
  - 如果用户选择"直接离开" → 停止计时，取消所有提醒

#### 7. 手动停止计时
- **需求**: 用户可以随时手动停止计时
- **触发**: 点击"停止计时"或"我已支付"按钮
- **效果**: 
  - 停止实时更新
  - 取消所有未触发的提醒
  - 保存本次停车记录（时长、费用）
  - 清空二维码照片（可选）

#### 8. 安装到桌面（PWA）
- **需求**: 用户可以将网页"安装"到手机桌面，像原生APP一样使用
- **实现**: manifest.json + service-worker.js
- **图标**: 绿色+蓝色渐变，带停车标志(P) + 钱币图案

### P1 功能（重要但可以V2做）

#### 9. 一键取消所有提醒
- **需求**: 用户可以一键取消所有已设置的提醒
- **场景**: 用户临时改变计划，不需要提醒了
- **实现**: 调用iOS快捷指令，删除所有名称包含"停车提醒"的闹钟

#### 10. 停车历史记录
- **需求**: 查看过去的停车记录（时长、费用、停车场）
- **用途**: 统计每月停车费用

#### 11. 多停车场比较
- **需求**: 输入预计停车时长，APP自动推荐最便宜的停车场
- **场景**: 用户去市中心，附近有3个停车场，不知道选哪个

---

## 📍 停车场列表（14个）

### 详细收费规则

| # | 停车场名称 | 收费规则 | 封顶价格 | 第1次提醒时间 |
|---|-----------|---------|---------|--------------|
| 1 | 金融硅谷 | 前30分钟免费，超出后3元/小时 | 15元 | 1.5小时 |
| 2 | 文化广场 | 前1小时免费，超出后3元/小时 | 20元 | 2小时 |
| 3 | 市民广场地下停车场 | 前1小时免费，1-2小时3元，超出后2元/小时 | 无 | 2小时 |
| 4 | 阪急地下停车场 | 前30分钟免费，超出后3元/30分钟 | 无 | 1小时 |
| 5 | 宏泰广场地下停车场 | 前1小时免费，1-3小时5元，超出后5元/小时 | 45元 | 3小时 |
| 6 | 和义大道地下停车场 | 前30分钟免费，30分钟-2小时5元，超出后4元/小时 | 25元 | 2小时 |
| 7 | 江北来福士广场 | 前30分钟免费，超出后5元/小时 | 50元 | 1.5小时 |
| 8 | 绿地缤纷城 | 前30分钟免费，30分钟-2小时5元，超出后5元/小时 | 50元 | 2小时 |
| 9 | 钻石商业广场停车场 | 前30分钟免费，30分钟-2小时5元，超出后2元/小时 | 30元 | 2小时 |
| 10 | 老外滩美术馆 | 前30分钟免费，30分钟-2小时3元，超出后2元/小时 | 12元 | 2小时 |
| 11 | 1844和义艺术中心停车场 | 前15分钟免费，15分钟-1小时5元，超出后5元/小时 | 60元 | 1小时 |
| 12 | 宁波银泰大厦地面停车场 | 前30分钟免费，30分钟-1小时5元，超出后5元/小时 | 30元 | 1小时 |
| 13 | 东钱湖十里四香（钱湖秘境）停车场 | 前30分钟免费，超出后10元/车（一次性） | 10元 | 20分钟 |
| 14 | 东钱湖韩岭老街停车场 | 前30分钟免费，30分钟-2小时5元，超出后3元/小时 | 20元 | 2小时 |

### 特殊停车场说明

#### 东钱湖系列（景区停车场）
- **东钱湖院士中心**: 前30分钟免费，超出后10元/车
- **东钱湖砖瓦厂**: 前1小时免费，1-3小时3元，超出后2元/小时，12元封顶
- **东钱湖南宋石刻公园**: 前30分钟免费，超出后10元/车
- **东钱湖福泉山景区**: 全天10元/车（无免费时段）
- **东钱湖集散中心地下**: 前4小时免费，超出后5元/车，18元封顶

**说明**: 景区停车场通常是"一次性收费"或"免费时段很长"，提醒策略需要特殊处理。

---

## ⏰ 提醒策略（核心逻辑）

### 设计原则

经过多次讨论，我们确定了以下提醒原则：

1. **从"第一笔支出即将产生"时开始提醒**
   - 不是从免费时段结束开始
   - 而是从"第一个计费周期即将结束"时开始
   - 原因：用户既然要停2小时以上，前面的小额费用（3-5元）可以接受，不需要频繁提醒

2. **统一用1小时间隔提醒**
   - 即使收费周期是30分钟（如阪急），也按1小时间隔提醒
   - 原因：30分钟间隔太频繁，用户会烦

3. **最多提醒3次就停止**
   - 第1次、第2次、第3次（标注"最后一次"）
   - 第4次开始不再提醒（尊重用户自主权）
   - 心理学依据："三振出局"原则

4. **封顶额外提醒**
   - 不算在3次里
   - 到封顶前10分钟额外提醒："快封顶了，可以放心继续停"

### 提醒时间点计算算法

```
算法：
1. 计算"第一笔支出时间" = 找到第一个固定费用时段的结束时间
   例如：
   - 金融硅谷：30分钟免费 + 60分钟3元 = 90分钟（1.5小时）
   - 文化广场：60分钟免费 + 60分钟3元 = 120分钟（2小时）
   - 宏泰广场：60分钟免费 + 120分钟5元 = 180分钟（3小时）

2. 从"第一笔支出时间"开始，每隔60分钟设置一个提醒（提前10分钟）
   - 提醒1：第一笔支出时间 - 10分钟
   - 提醒2：第一笔支出时间 + 60分钟 - 10分钟
   - 提醒3：第一笔支出时间 + 120分钟 - 10分钟（标注"最后一次"）

3. 如果有封顶，且封顶时间 > 第3次提醒时间 + 30分钟
   - 加一个封顶提醒：封顶时间 - 10分钟
```

### 具体示例

#### 示例1：金融硅谷
```
收费规则：
- 前30分钟免费
- 超出后3元/小时
- 15元封顶（5小时）

停车开始时间：14:30

提醒时间点：
1. 16:00（1.5小时前10分钟）
   "已停1小时20分钟，当前费用3元，再停1小时会变成6元"
   
2. 17:00（2.5小时前10分钟）
   "已停2小时20分钟，当前费用6元，再停1小时会变成9元"
   
3. 18:00（3.5小时前10分钟）
   "已停3小时20分钟，当前费用9元，再停1小时会变成12元"
   "⚠️ 这是最后一次提醒，之后不会再打扰你"
   
4. 19:20（5小时前10分钟，封顶提醒）
   "已停4小时50分钟，当前费用15元（即将封顶）"
   "⭐ 封顶后停多久都是15元，可以放心继续停"
```

#### 示例2：宏泰广场
```
收费规则：
- 前1小时免费
- 1-3小时5元
- 超出3小时5元/小时
- 45元封顶

停车开始时间：14:30

提醒时间点：
1. 17:20（3小时前10分钟）
   "已停2小时50分钟，当前费用5元"
   "⚠️ 关键决策点：超过3小时后每小时+5元"
   
2. 18:20（4小时前10分钟）
   "已停3小时50分钟，当前费用10元，再停1小时会变成15元"
   
3. 19:20（5小时前10分钟）
   "已停4小时50分钟，当前费用15元，再停1小时会变成20元"
   "⚠️ 这是最后一次提醒"
   
4. 封顶提醒（根据实际封顶时间计算）
```

#### 示例3：阪急（特殊情况：30分钟计费周期）
```
收费规则：
- 前30分钟免费
- 超出后3元/30分钟

停车开始时间：14:30

提醒时间点：
1. 15:50（1小时前10分钟）
   "已停50分钟，当前费用3元，再停30分钟会变成6元"
   
2. 16:50（2小时前10分钟）
   "已停1小时50分钟，当前费用9元，再停30分钟会变成12元"
   （注意：跳过了1.5小时，避免提醒太频繁）
   
3. 17:50（3小时前10分钟）
   "已停2小时50分钟，当前费用15元"
   "⚠️ 这是最后一次提醒"
```

### 边界情况处理

#### 情况1：用户停车时间 < 第一次提醒时间
```
示例：金融硅谷，第一次提醒是1.5小时
用户只停了1小时就走了

处理：
→ 用户没收到任何提醒
→ 但用户打开APP时能看到实时费用
→ 点击"我要走了"查看二维码支付
→ 这没问题，因为用户本来就打算停很短时间
```

#### 情况2：用户提前走了，但没点"我已支付"
```
示例：用户在第2次提醒后就走了，但忘记点"我已支付"

处理：
→ 第3次提醒还会响（因为用户没有明确告诉APP"我走了"）
→ 用户在车上收到通知 → 打开APP → 点击"我已支付"或忽略
→ 提醒文案："如果你已经走了，请点击'我已支付'停止提醒"
```

#### 情况3：停车场是"一次性收费"
```
示例：东钱湖十里四香，前30分钟免费，超出后10元/车

提醒策略：
→ 第1次提醒：20分钟时（30分钟前10分钟）
   "免费时段快结束了，之后是10元（一次性）"
→ 不需要后续提醒（反正都是10元）
```

---

## 🛠 技术方案

### 技术栈选择

#### 前端技术
```
HTML5 + CSS3 + JavaScript（原生，不用框架）
```

**为什么不用React/Vue？**
- 项目很小，不需要框架的复杂性
- 原生JavaScript更快，文件更小
- 更容易理解和维护（对于非技术背景的Catherine）

#### PWA技术
```
- manifest.json（APP配置）
- service-worker.js（离线缓存）
- localStorage（本地数据存储）
```

#### 提醒实现
```
iOS快捷指令 + 系统通知
```

**为什么不用PWA推送通知？**
- iOS的Safari不支持PWA推送（即使2024年的iOS 17/18也只是部分支持）
- iOS快捷指令更可靠，支持Apple Watch
- 不需要后端服务器（省钱、省时间）

### 架构设计

```
停车省钱小助手
│
├── 📄 index.html              # 主页面（用户界面）
├── 📄 manifest.json           # PWA配置（APP名称、图标等）
├── 📄 service-worker.js       # PWA缓存逻辑（离线支持）
│
├── 📁 css/
│   └── 📄 style.css          # 样式文件（绿色+蓝色设计）
│
├── 📁 js/
│   ├── 📄 parkingLots.js     # 停车场数据（14个停车场的收费规则）
│   ├── 📄 app.js             # 核心逻辑（计时、计费、状态管理）
│   └── 📄 notifications.js   # iOS快捷指令集成（提醒功能）
│
├── 📁 images/
│   ├── 🖼 icon-192.png       # APP图标（192x192）
│   └── 🖼 icon-512.png       # APP图标（512x512）
│
└── 📄 LEARN.md               # 学习文档（项目总结，最后写）
```

### 数据存储

#### localStorage结构
```javascript
{
  // 当前停车状态
  "currentParking": {
    "isParking": true,                    // 是否正在停车
    "parkingLotId": 1,                    // 停车场ID
    "startTime": "2025-01-28T14:30:00",   // 开始时间
    "adjustedStartTime": null,            // 用户调整后的开始时间
    "qrCodeImage": "data:image/png;base64,...", // 二维码照片（base64）
    "reminderCount": 0,                   // 已发送的提醒次数
    "reminders": [                        // 已设置的提醒列表
      {
        "time": "2025-01-28T16:00:00",
        "message": "已停1.5小时，当前费用3元",
        "triggered": false
      }
    ]
  },
  
  // 停车历史（V2功能）
  "parkingHistory": [
    {
      "parkingLotId": 1,
      "startTime": "2025-01-27T14:00:00",
      "endTime": "2025-01-27T16:30:00",
      "duration": 150,  // 分钟
      "fee": 6          // 元
    }
  ],
  
  // 用户设置
  "settings": {
    "defaultReminderMode": "smart",  // "smart"（省心模式）或 "flexible"（灵活模式）
    "vibrationEnabled": true,
    "soundEnabled": true
  }
}
```

### 核心算法

#### 1. 费用计算算法
```javascript
function calculateFee(parkingLot, minutes) {
  let totalFee = 0;
  let remainingMinutes = minutes;
  
  // 遍历每个收费规则，逐段计算
  for (let rule of parkingLot.rules) {
    if (remainingMinutes <= 0) break;
    
    if (rule.type === "free") {
      // 免费时段，跳过
      remainingMinutes -= rule.duration;
    } else if (rule.type === "flat") {
      // 固定费用（比如"1-3小时5元"）
      totalFee += rule.price;
      remainingMinutes -= rule.duration;
    } else if (rule.type === "hourly") {
      // 按小时计费（比如"3元/小时"）
      const hours = Math.ceil(remainingMinutes / rule.duration);
      totalFee += hours * rule.price;
      remainingMinutes = 0;
    }
  }
  
  // 封顶处理
  if (parkingLot.maxPrice && totalFee > parkingLot.maxPrice) {
    totalFee = parkingLot.maxPrice;
  }
  
  return totalFee;
}
```

#### 2. 提醒时间点计算算法
```javascript
function calculateReminderTimes(parkingLot, startTime) {
  const reminders = [];
  
  // 第1步：计算"第一笔支出时间"
  const firstPaymentTime = calculateFirstPaymentTime(parkingLot);
  
  // 第2步：每隔1小时设置一个提醒（最多3次）
  for (let i = 0; i < 3; i++) {
    const reminderTime = firstPaymentTime + (i * 60);  // 分钟
    const actualReminderTime = reminderTime - 10;  // 提前10分钟
    
    reminders.push({
      time: new Date(startTime.getTime() + actualReminderTime * 60 * 1000),
      message: generateReminderMessage(parkingLot, reminderTime, i === 2),
      isLastReminder: i === 2
    });
  }
  
  // 第3步：如果有封顶，加一个封顶提醒
  if (parkingLot.maxPrice) {
    const cappingTime = calculateCappingTime(parkingLot);
    if (cappingTime > firstPaymentTime + 180) {  // 如果封顶时间在3次提醒之后
      reminders.push({
        time: new Date(startTime.getTime() + (cappingTime - 10) * 60 * 1000),
        message: `快到${parkingLot.maxPrice}元封顶了，可以放心继续停`,
        isCappingReminder: true
      });
    }
  }
  
  return reminders;
}
```

### iOS快捷指令集成

#### 快捷指令URL Scheme
```javascript
function setReminder(reminderTime, message) {
  // 格式化时间（HH:MM）
  const timeString = reminderTime.toTimeString().slice(0, 5);
  
  // 生成快捷指令URL
  const shortcutURL = `shortcuts://run-shortcut?name=停车提醒&input=${timeString}|${message}`;
  
  // 跳转到快捷指令
  window.location.href = shortcutURL;
}
```

#### 用户需要创建的快捷指令
```
名称：停车提醒

步骤：
1. 获取"快捷指令输入"（格式：HH:MM|提醒消息）
2. 分割文本（用"|"分隔）
   → 第1部分：时间（比如"16:00"）
   → 第2部分：消息（比如"已停1.5小时，当前费用3元"）
3. 创建提醒（或闹钟）
   → 时间：第1部分
   → 标题："停车提醒"
   → 内容：第2部分
4. 完成
```

### 部署方案

#### 托管服务：GitHub Pages（免费）
```
步骤：
1. 在GitHub创建仓库：parking-assistant
2. 上传所有文件
3. 在仓库设置里启用GitHub Pages
4. 访问网址：https://username.github.io/parking-assistant
```

**优点**:
- ✅ 完全免费
- ✅ 自动支持HTTPS（PWA必需）
- ✅ 全球CDN加速
- ✅ 更新简单（推送代码即可）

**缺点**:
- ⚠️ 仓库必须是public（但这不是问题，因为没有敏感数据）

---

## 📊 成功指标

### MVP阶段（第1周）

**目标**: Catherine 自己能正常使用

**指标**:
1. ✅ 能成功安装到手机桌面
2. ✅ 能准确计算停车费用（手动验证3个停车场）
3. ✅ 能成功设置iOS快捷指令提醒
4. ✅ 能保存和查看二维码照片
5. ✅ 在5次真实停车场景中，至少避免4次超时

### V1.0阶段（第2-4周）

**目标**: Catherine 的母亲也能使用

**指标**:
1. ✅ 母亲能独立操作（不需要Catherine帮忙）
2. ✅ 提醒不会造成焦虑（母亲反馈）
3. ✅ 界面足够简单（母亲能理解每个按钮的作用）

### V2.0阶段（未来）

**目标**: 功能完善，体验优化

**指标**:
1. ✅ 支持Android推送通知
2. ✅ 停车历史统计功能
3. ✅ 用户可以自己添加停车场
4. ✅ 多设备同步

---

## 🚀 未来规划

### V2 功能（如果MVP好用）

1. **Android推送通知**
   - 需要：后端服务器 + Firebase Cloud Messaging
   - 开发时间：3-5天
   - 成本：免费（Firebase免费版够用）

2. **停车场管理界面**
   - 用户可以自己添加/编辑停车场
   - 不需要改代码
   - 可以分享给其他用户

3. **停车历史统计**
   - 每月停车次数、总时长、总费用
   - 图表展示（用Chart.js）
   - 最常去的停车场排名

4. **多设备同步**
   - 需要：云端数据库（Firebase Realtime Database）
   - 用户可以在手机A和手机B上看到同样的数据

### V3 功能（更远的未来）

1. **自动识别停车场**
   - 用GPS定位自动识别用户在哪个停车场
   - 自动开始计时

2. **停车场推荐**
   - 输入目的地，推荐附近最便宜的停车场
   - 实时显示停车场空位情况（需要接入第三方API）

3. **分享功能**
   - 生成"停车场卡片"分享给朋友
   - 包含：收费规则、封顶价格、评价

---

## 📝 备注

### 技术债务（已知问题，未来优化）

1. **时间同步问题**
   - 用户手机时间可能不准确
   - MVP依赖用户手动调整开始时间
   - V2可以考虑从停车场系统抓取准确时间（但技术复杂度高）

2. **二维码照片大小**
   - localStorage有5MB限制
   - 一张二维码照片约500KB
   - 用户最多可以保存10张左右
   - V2可以考虑压缩图片或上传到云端

3. **提醒可靠性**
   - iOS快捷指令在某些情况下可能不执行（比如低电量模式）
   - MVP需要用户测试并反馈
   - V2可以考虑加一个"提醒测试"功能

### 开放性问题（需要实际使用后决策）

1. **是否需要"提醒模式选择"？**
   - 省心模式 vs 省钱模式
   - MVP先做一种，根据用户反馈决定是否加选择

2. **是否需要"停车场评价"功能？**
   - 用户可以给停车场打分、写评论
   - V2或V3再考虑

3. **是否需要"好友分享"功能？**
   - 分享当前停车状态给家人（"我在XX停车场，还有1小时提醒"）
   - V3再考虑

---

## 🎓 Catherine的学习目标

通过这个项目，Catherine希望学习：

1. **Web开发基础**
   - HTML/CSS/JavaScript如何配合工作
   - 什么是DOM、事件监听、状态管理

2. **PWA技术**
   - 什么是PWA，和原生APP有什么区别
   - 如何让网页变成"APP"

3. **产品思维**
   - 如何从用户痛点出发设计产品
   - 如何平衡技术复杂度和用户体验
   - 如何定义MVP（最小可行产品）

4. **AI协作方式**
   - 如何和AI（Claude）有效沟通
   - 如何表达需求、提供反馈
   - 如何在AI的帮助下快速迭代

---

**Made with 💚 by Catherine & Claude**

**版本历史**:
- v1.0 (2025-01-28): 初始版本，基于深入讨论的最终方案
